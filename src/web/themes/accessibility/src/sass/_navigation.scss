@import "variables";

.skip-link.visually-hidden.focusable:active,
.skip-link.visually-hidden.focusable:focus {
  left: 0;
  padding: 0.5em 1em;
  position: absolute !important;
  top: 25px;
  z-index: 2;
}

#main-menu {
  @media only screen and (max-width: $largemax) {
    display: none;
    visibility: hidden;
    &.show {
      display: block;
      visibility: visible;
    }
  }
  ul.menu {
    @media only screen and (min-width: $large) {
      display: flex;
      flex-flow: row wrap;
      margin: 0;
    }
    li {
      padding: 0;
      position: relative;
      @media only screen and (min-width: $large) {
        align-items: center;
        display: flex;
        padding: 0.5em 1em;
      }
    }
    li {
      @media only screen and (min-width: $large) {
        border: 2px solid transparent;
      }
      > ul {
        @media only screen and (min-width: $large) {
          background-color: $complementary;
          border: 2px solid $grey;
          left: -2px;
          padding: 0.5em 1em;
          position: absolute;
          top: 46px;
          width: 100%;
          z-index: 10;
          li {
            margin: 5px 0;
            padding: 0;
          }
        }
      }
      &.menu-open {
        @media only screen and (min-width: $large) {
          border: 2px solid $grey;
        }
      }
    }
    li:last-of-type {
      > ul {
        @media only screen and (min-width: $large) {
          left: auto;
          right: -2px;
        }
      }
    }
  }
  @media only screen and (min-width: 750px) and (max-width: $largemax) {
    ul.menu--level-1 {
      background-color: $complementary;
      border: 2px solid $grey;
      padding: 0.5em 1em;
      position: absolute;
      right: 38px;
      top: 46px;
      width: 300px;
      z-index: 10;
    }
  }
}
button.menu__link {
  background-color: transparent;
  background-image: url("../images/chevron-down.svg");
  background-position: right center;
  background-repeat: no-repeat;
  background-size: 20px 20px;
  border: 2px solid transparent;
  border: none;
  padding: 0 30px 0 0;
  &.menu-open {
    background-image: url("../images/chevron-up.svg");
    background-position: right center;
    background-repeat: no-repeat;
    background-size: 20px 20px;
  }
}
.menu--level-2 {
  display: none;
  visibility: hidden;
}
[aria-expanded="true"] + .menu--level-2 {
  display: block;
  visibility: visible;
}

html:not(.js) .menu-item--has-children:focus-within .menu--level-2,
html:not(.js) .menu-item--has-children:hover .menu--level-2,
[aria-expanded="true"] + .menu--level-2 {
  display: block;
  visibility: visible;
}

.mobile-menu-toggle {
  background-color: transparent;
  background-image: url("../images/menu-icon.svg");
  background-position: 10px center;
  background-repeat: no-repeat;
  background-size: 20px 20px;
  border: 2px solid $grey;
  font-weight: bold;
  margin-bottom: 1em;
  padding-left: 40px;
  &.menu-open {
    margin-bottom: 0;
  }
  @media only screen and (min-width: 750px) and (max-width: $largemax) {
    margin-bottom: 0;
  }
  @media only screen and (min-width: $large) {
    display: none;
    visibility: hidden;
  }
}

.dark {
  #main-menu {
    ul.menu {
      li {
        > ul {
          @media only screen and (min-width: $large) {
            background-color: $dark_complementary;
            border: 2px solid $dark_grey;
          }
        }
        &.menu-open {
          @media only screen and (min-width: $large) {
            border: 2px solid $dark_grey;
          }
        }
      }
    }
    @media only screen and (min-width: 750px) and (max-width: $largemax) {
      ul.menu--level-1 {
        background-color: $dark_complementary;
        border: 2px solid $dark_grey;
      }
    }
  }
  .mobile-menu-toggle {
    background-image: url("../images/menu-icon-white.svg");
    background-position: 10px center;
    background-repeat: no-repeat;
    background-size: 20px 20px;
    border: 2px solid $dark_grey;
  }
  button.menu__link {
    background-color: transparent;
    background-image: url("../images/chevron-down-dark.svg");
    background-position: right center;
    background-repeat: no-repeat;
    background-size: 20px 20px;
    border: 2px solid transparent;
    border: none;
    padding: 0 30px 0 0;
    &.menu-open {
      background-image: url("../images/chevron-up-dark.svg");
      background-position: right center;
      background-repeat: no-repeat;
      background-size: 20px 20px;
    }
  }
}
